/*!
Waypoints Inview Shortcut Timer based - 3.1.1
Copyright Â© 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
!function(){"use strict";function t(i){this.options=o.Adapter.extend({},t.defaults,i),this.options.ratio=parseFloat(/(\d+)\%/.exec(this.options.offset)[1])/100,this.waypoints=[],this.timerVertical=null,this.timerHorizontal=null,this.timerVerticalDone=!1,this.timerHorizontalDone=!1,this.createWaypoints()}var o=window.Waypoint,i=function(){};t.prototype.createWaypoints=function(){function t(t,o,i,e){var n=(new Date).toISOString().split("T")[1];n+=" "+i.options.debug,n+=" "+t,n+=" "+o,n+=" "+i.axis,n+=" page="+i.context.innerHeight()+"X"+i.context.innerWidth(),n+=" div="+i.adapter.outerHeight()+"X"+i.adapter.outerWidth(),n+=" triggerPoint="+i.triggerPoint,n+=" cur_offset="+i.options.offset.call(i)+" with "+i.options.o,void 0!==e&&""!==e&&(n+=e),console.log(n)}function o(o,i,e,n){o.isHorizontal?i.timerHorizontalDone=!0:i.timerVerticalDone=!0;var r=i.timerVerticalDone===!0&&i.timerHorizontalDone===!0;t("done ",n,e,r?" trigger":""),r&&(i.options.callback(i.options),i.options.destroyOnValid?i.destroy():o.isHorizontal?i.timerHorizontal=null:i.timerVertical=null)}function i(i,e,n,r){var a=i.isHorizontal?e.timerHorizontal:e.timerVertical;t("enter",n,r,null!==a?" already entered":""),null===a&&(a=window.setTimeout(function(){o(i,e,r,n)},e.options.timeout),i.isHorizontal?e.timerHorizontal=a:e.timerVertical=a)}function e(o,i,e,n){var r=o.isHorizontal?i.timerHorizontal:i.timerVertical;t("exit ",e,n,null===r?" no prior enter":""),null!==r&&(clearTimeout(r),o.isHorizontal?(i.timerHorizontalDone=!1,i.timerHorizontal=null):(i.timerVerticalDone=!1,i.timerVertical=null))}function n(){return-1*Math.round(this.adapter.outerHeight()*u)-1}function r(){return Math.round(this.context.innerHeight()-this.adapter.outerHeight()*l)+1}function a(){return-1*Math.round(this.adapter.outerWidth()*u)-1}function s(){return Math.round(this.context.innerWidth()-this.adapter.outerWidth()*l)+1}var l=this.options.ratio,u=1-l,h={vertical:[{up:e,down:i,offset:r,o:"bottom"},{up:i,down:e,offset:n,o:"top"}],horizontal:[{left:e,right:i,offset:s,o:"right"},{left:i,right:e,offset:a,o:"left"}]};this.generateWaypoints(h.vertical,!1),this.generateWaypoints(h.horizontal,!0)},t.prototype.generateWaypoints=function(t,i){for(var e=0;e<t.length;e++)this.createWaypoint(o.Adapter.extend({},{isHorizontal:i,debug:this.options.debug},t[e]))},t.prototype.createWaypoint=function(t){this.waypoints.push(new o({element:this.options.element,handler:function(t,o){return function(i){t[i](t,o,i,this)}}(t,this),offset:t.offset,horizontal:t.isHorizontal,debug:t.debug,o:t.o}))},t.prototype.destroy=function(){for(var t=0,o=this.waypoints.length;o>t;t++)this.waypoints[t].destroy();this.waypoints=[]},t.defaults={timeout:100,offset:"80%",callback:i,destroyOnValid:!0},o.InviewTimer=t}();