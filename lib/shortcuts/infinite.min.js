/*!
Waypoints Infinite Scroll Shortcut - 4.0.0
Copyright Â© 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(t){"use strict";function o(t){this.options=n.extend({},o.defaults,t),this.container=this.options.element,"auto"!==this.options.container&&(this.container=this.options.container),this.$container=n(this.container),this.$more=n(this.options.more),this.$more.length&&(this.setupHandler(),this.waypoint=new i(this.options))}var i;i="function"==typeof require?require("../waypoint"):t.Waypoint;var n=t.jQuery;return o.prototype.setupHandler=function(){this.options.handler=n.proxy(function(){this.options.onBeforePageLoad(),this.destroy(),this.$container.addClass(this.options.loadingClass),n.get(n(this.options.more).attr("href"),n.proxy(function(t){var o=n(n.parseHTML(t)),e=o.find(this.options.more),s=o.find(this.options.items);s.length||(s=o.filter(this.options.items)),this.$container.append(s),this.$container.removeClass(this.options.loadingClass),e.length||(e=o.filter(this.options.more)),e.length?(this.$more.replaceWith(e),this.$more=e,this.waypoint=new i(this.options)):this.$more.remove(),this.options.onAfterPageLoad(s)},this))},this)},o.prototype.destroy=function(){this.waypoint&&this.waypoint.destroy()},o.defaults={container:"auto",items:".infinite-item",more:".infinite-more-link",offset:"bottom-in-view",loadingClass:"infinite-loading",onBeforePageLoad:n.noop,onAfterPageLoad:n.noop},"undefined"!=typeof module?module.exports=o:void 0}("undefined"!=typeof global?global:window);